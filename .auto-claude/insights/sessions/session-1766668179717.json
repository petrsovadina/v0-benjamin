{
  "id": "session-1766668179717",
  "projectId": "91bb7c7e-ada2-4c4c-bdcb-288baae1fa3c",
  "title": "Komunikuj semnou Äesky a rekapituluj my codebase",
  "messages": [
    {
      "id": "msg-1766668179719",
      "role": "user",
      "content": "Komunikuj semnou Äesky a rekapituluj my codebase",
      "timestamp": "2025-12-25T13:09:39.719Z"
    },
    {
      "id": "msg-1766668257938",
      "role": "assistant",
      "content": "DobÅ™e, podÃ­vÃ¡m se na vaÅ¡i codebase a rekapituluji vÃ¡m ji. Nejprve projdu strukturu projektu.\nVÃ½bornÄ›! TeÄ ti podÃ¡m komplexnÃ­ rekapitulaci tvÃ© codebase:\n# ğŸ“‹ Rekapitulace Codebase: Czech MedAI (Benjamin)\n## ğŸ¯ **O projektu**\n**Czech MedAI** (kÃ³dovÃ© jmÃ©no *Benjamin*) je AI asistent speciÃ¡lnÄ› navrÅ¾enÃ½ pro ÄeskÃ© lÃ©kaÅ™e. Poskytuje:\n- Evidence-based odpovÄ›di na klinickÃ© otÃ¡zky s citacemi\n- VyhledÃ¡vÃ¡nÃ­ lÃ©kÅ¯ a Ãºhrad VZP\n- AutomatickÃ© generovÃ¡nÃ­ lÃ©kaÅ™skÃ½ch zprÃ¡v (epikrÃ­za)\n- SÃ©mantickÃ© vyhledÃ¡vÃ¡nÃ­ v ÄeskÃ½ch doporuÄenÃ½ch postupech (guidelines)\n## ğŸ—ï¸ **Architektura**\n### **Frontend (Next.js 16)**\n```\napp/\nâ”œâ”€â”€ auth/              # Autentizace (login, register, reset hesla)\nâ”œâ”€â”€ dashboard/         # HlavnÃ­ aplikace\nâ”‚   â”œâ”€â”€ chat/         # AI Chat interface\nâ”‚   â”œâ”€â”€ vzp-navigator/ # VyhledÃ¡vaÄ Ãºhrad VZP\nâ”‚   â”œâ”€â”€ guidelines/    # ÄŒeskÃ© doporuÄenÃ© postupy\nâ”‚   â”œâ”€â”€ translator/    # PÅ™ekladaÄ lÃ©kaÅ™skÃ½ch textÅ¯\nâ”‚   â”œâ”€â”€ epikriza/     # GenerÃ¡tor lÃ©kaÅ™skÃ½ch zprÃ¡v\nâ”‚   â”œâ”€â”€ history/      # Historie dotazÅ¯\nâ”‚   â””â”€â”€ settings/     # NastavenÃ­ uÅ¾ivatele\nâ””â”€â”€ api/              # Next.js API routes (proxy)\n```\n**Technologie:**\n- Next.js 16.0.7 (App Router)\n- React 19.2.0\n- TypeScript 5.x\n- Tailwind CSS 4.1.9\n- Shadcn UI (Radix UI komponenty)\n- Supabase Auth & Database\n### **Backend (Python + FastAPI)**\n```\nbackend/\nâ”œâ”€â”€ app/\nâ”‚   â”œâ”€â”€ api/          # REST API endpointy\nâ”‚   â”œâ”€â”€ core/         # Config, Database, LangGraph\nâ”‚   â”œâ”€â”€ schemas/      # Pydantic modely\nâ”‚   â””â”€â”€ services/     # Business logika\nâ”œâ”€â”€ data_processing/  # ETL Pipelines (SÃšKL, Guidelines)\nâ”œâ”€â”€ pipeline/         # Orchestrace datovÃ½ch pipeline\nâ”œâ”€â”€ services/         # AI sluÅ¾by (LLM, MCP)\nâ””â”€â”€ tests/            # AutomatizovanÃ© testy\n```\n**Technologie:**\n- Python 3.11+\n- FastAPI\n- LangGraph 1.0 (AI orchestrace)\n- Anthropic Claude 3.5 Sonnet / OpenAI GPT-4o\n- PostgreSQL 15 + pgvector (Supabase)\n- OpenAI Embeddings (text-embedding-ada-002)\n## ğŸ“Š **DatovÃ© zdroje**\n### 1. **SÃšKL Knowledge Base** âœ… HOTOVO\n- **DLP (Digital List of Pharmaceuticals)**: Seznam vÅ¡ech registrovanÃ½ch lÃ©kÅ¯\n- **CenovÃ¡ data**: AktuÃ¡lnÃ­ ceny + historickÃ© archivy (LEK-13)\n- **Dokumenty**: SPC (Summary of Product Characteristics) + PIL (Patient Information Leaflet)\n- **VektorovÃ© embeddingy**: SÃ©mantickÃ© vyhledÃ¡vÃ¡nÃ­ lÃ©kÅ¯\n### 2. **ÄŒeskÃ© Guidelines** ğŸš§ PROBÃHÃ\n- Import PDF doporuÄenÃ½ch postupÅ¯ odbornÃ½ch spoleÄnostÃ­\n- RAG (Retrieval Augmented Generation) nad guidelines\n- SÃ©mantickÃ© vyhledÃ¡vÃ¡nÃ­ v postupech\n### 3. **VZP Data** ğŸŸ¡ ÄŒÃSTEÄŒNÄš\n- OvÄ›Å™enÃ­ Ãºhrad veÅ™ejnÃ©ho zdravotnÃ­ho pojiÅ¡tÄ›nÃ­\n- AktuÃ¡lnÃ­ data z VZP\n## ğŸ”‘ **KlÃ­ÄovÃ© vlastnosti**\n| Funkce | Stav | Popis |\n|--------|------|-------|\n| ğŸ¤– AI Chat | âœ… ACTIVE | KlinickÃ½ asistent s pamÄ›tÃ­, odpovÃ­dÃ¡ do 5s |\n| ğŸ“š SÃšKL Search | âœ… ACTIVE | SÃ©mantickÃ© vyhledÃ¡vÃ¡nÃ­ lÃ©kÅ¯ + SPC/PIL |\n| ğŸ’° VZP Navigator | ğŸš§ PARTIAL | OvÄ›Å™enÃ­ Ãºhrad (mock data) |\n| ğŸ“‹ Guidelines | ğŸš§ IN DEV | VyhledÃ¡vÃ¡nÃ­ v doporuÄenÃ½ch postupech |\n| ğŸ“ EpikrÃ­za | ğŸ“… PLANNED | Auto-generovÃ¡nÃ­ lÃ©kaÅ™skÃ½ch zprÃ¡v |\n| ğŸŒ PÅ™ekladaÄ | âœ… ACTIVE | PÅ™eklad lÃ©kaÅ™skÃ½ch textÅ¯ |\n## ğŸ“‚ **DatabÃ¡zovÃ© schÃ©ma (Supabase)**\n```sql\n-- Autentizace\nauth.users               # Supabase Auth\npublic.user_profiles     # Extended user info\n-- Chat & Historie\npublic.queries           # UÅ¾ivatelskÃ© dotazy\npublic.answers           # AI odpovÄ›di\npublic.chat_messages     # Chat historie\n-- SÃšKL Data\npublic.sukl_drugs        # Seznam lÃ©kÅ¯\npublic.sukl_prices       # CenovÃ¡ data\npublic.sukl_documents    # SPC/PIL dokumenty\npublic.drug_embeddings   # VektorovÃ© embeddingy\n-- Guidelines\npublic.guidelines        # ÄŒeskÃ© doporuÄenÃ© postupy\npublic.guideline_chunks  # Chunked text + vectors\n-- VZP\npublic.vzp_medicines     # VZP Ãºhrady\n```\n## ğŸ”„ **AktuÃ¡lnÃ­ stav vÃ½voje**\n### âœ… **DokonÄeno (FÃ¡ze 1-3)**\n1. âœ… Backend architektura (FastAPI + LangGraph)\n2. âœ… Database upgrade (Supabase v2, PostgreSQL 15, pgvector)\n3. âœ… Autentizace (Supabase Auth, RLS policies)\n4. âœ… SÃšKL Data Pipeline (lÃ©ky, ceny, dokumenty, embeddings)\n5. âœ… AI Chat interface\n6. âœ… SÃ©mantickÃ© vyhledÃ¡vÃ¡nÃ­ lÃ©kÅ¯\n### ğŸš§ **ProbÃ­hÃ¡ (FÃ¡ze 4)**\n- Guidelines RAG: Import PDF doporuÄenÃ½ch postupÅ¯\n- Guidelines Semantic Search endpoint\n- PropojenÃ­ VZP Navigatoru s reÃ¡lnÃ½mi daty\n### ğŸ“… **PlÃ¡novÃ¡no (FÃ¡ze 5)**\n- Drug Interaction Checker (kontrola lÃ©kovÃ½ch interakcÃ­)\n- E2E Testing Suite\n- Production CORS Configuration\n- GDPR Compliance Documentation\n## ğŸš€ **Jak spustit projekt**\n### **1. Frontend**\n```bash\ncd v0-benjamin\npnpm install\npnpm dev  # http://localhost:3000\n```\n### **2. Backend**\n```bash\n# VytvoÅ™enÃ­ venv\npython -m venv backend/venv\nsource backend/venv/bin/activate\n# Instalace\npip install -r backend/requirements.txt\n# SpuÅ¡tÄ›nÃ­ API\nuvicorn backend.main:app --reload --port 8000\n# Docs: http://localhost:8000/docs\n```\n### **3. Data Pipeline (KRITICKÃ‰!)**\n```bash\n# Z koÅ™ene projektu (v0-benjamin)\npython -m backend.pipeline.run_pipeline \\\n  --drugs \\\n  --pricing \\\n  --documents \\\n  --with-embeddings\n```\nâš ï¸ **PoznÃ¡mka**: PrvnÃ­ spuÅ¡tÄ›nÃ­ vyÅ¾aduje OpenAI API klÃ­Ä pro generovÃ¡nÃ­ embeddingÅ¯!\n## ğŸ”§ **Environment Variables**\n### Frontend (`.env.local`)\n```env\nNEXT_PUBLIC_SUPABASE_URL=...\nNEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY=...\n```\n### Backend (`backend/.env`)\n```env\nOPENAI_API_KEY=...        # Pro embeddings (REQUIRED!)\nANTHROPIC_API_KEY=...     # Pro Claude 3 (REQUIRED!)\nGOOGLE_API_KEY=...        # Pro audio transcription\nSUPABASE_URL=...\nSUPABASE_KEY=...          # Service Role Key\n```\n## ğŸ“Š **Roadmap z .auto-claude**\nMÃ¡Å¡ aktivnÃ­ 6 features v rÅ¯znÃ½ch fÃ¡zÃ­ch:\n### ğŸŸ¡ **Under Review**\n1. History Interface Click Handler\n2. GDPR Compliance Documentation\n3. Drug Interaction Checker\n4. AI-Generated Drug Summaries\n5. Drug Comparison Tool\n6. Enhanced VZP Navigator\n### ğŸ“‹ **Planned**\n1. Complete Guidelines RAG PDF Import (CRITICAL!)\n2. Guidelines Semantic Search Endpoint\n3. Production CORS Configuration\n4. End-to-End Testing Suite\n## ğŸ¯ **Co potÅ™ebujeÅ¡ udÄ›lat dÃ¡l**\n1. **DokonÄit Guidelines Import** - priorita #1 podle roadmapy\n2. **Propojit VZP Navigator** - pÅ™epnout z mock dat na reÃ¡lnou DB\n3. **E2E Testy** - pokrytÃ­ kritickÃ½ch flow\n4. **GDPR Dokumentace** - compliance pro zdravotnictvÃ­\n---\n**MÃ¡Å¡ otÃ¡zky k nÄ›jakÃ© konkrÃ©tnÃ­ ÄÃ¡sti codebase?** MÅ¯Å¾u ti detailnÄ›ji vysvÄ›tlit architekturu backendu, LangGraph implementaci, nebo cokoliv jinÃ©ho! ğŸš€",
      "timestamp": "2025-12-25T13:10:57.938Z",
      "toolsUsed": [
        {
          "name": "Bash",
          "input": "",
          "timestamp": "2025-12-25T13:09:47.661Z"
        },
        {
          "name": "Read",
          "input": "...Desktop/Develope/benjamin/v0-benjamin/README.md",
          "timestamp": "2025-12-25T13:09:48.106Z"
        },
        {
          "name": "Read",
          "input": "...ktop/Develope/benjamin/v0-benjamin/package.json",
          "timestamp": "2025-12-25T13:09:48.714Z"
        },
        {
          "name": "Bash",
          "input": "",
          "timestamp": "2025-12-25T13:09:49.484Z"
        },
        {
          "name": "Bash",
          "input": "",
          "timestamp": "2025-12-25T13:09:58.122Z"
        },
        {
          "name": "Read",
          "input": "...Develope/benjamin/v0-benjamin/backend/README.md",
          "timestamp": "2025-12-25T13:09:58.803Z"
        },
        {
          "name": "Bash",
          "input": "",
          "timestamp": "2025-12-25T13:09:59.562Z"
        },
        {
          "name": "Read",
          "input": "...Develope/benjamin/v0-benjamin/PROJECT_STATUS.md",
          "timestamp": "2025-12-25T13:10:03.281Z"
        },
        {
          "name": "Bash",
          "input": "",
          "timestamp": "2025-12-25T13:10:04.300Z"
        }
      ]
    }
  ],
  "createdAt": "2025-12-25T13:09:39.717Z",
  "updatedAt": "2025-12-25T13:10:57.938Z"
}