{
  "task_description": "Upgrade all LangChain-related Python dependencies from version 0.1.x to 0.3.x+ to enable Deep Agents support in the RAG workflow. Must maintain full backward compatibility with zero test failures and no deprecation warnings.",
  "scoped_services": ["backend"],
  "files_to_modify": [
    "backend/requirements.txt",
    "backend/agent_graph.py",
    "backend/epicrisis_graph.py",
    "backend/translator_graph.py",
    "backend/app/core/graph.py",
    "backend/app/core/llm.py",
    "backend/app/core/state.py",
    "backend/data_processing/loaders/guidelines_loader.py"
  ],
  "files_to_reference": [
    "backend/agent_graph.py",
    "backend/app/core/llm.py",
    "backend/app/core/state.py",
    "backend/data_processing/loaders/guidelines_loader.py"
  ],
  "patterns": {
    "langchain_tool_definition": "Use @tool decorator from langchain_core.tools with typed parameters",
    "langchain_anthropic_init": "ChatAnthropic(model_name=..., api_key=settings.ANTHROPIC_API_KEY, temperature=...)",
    "langgraph_workflow": "StateGraph(AgentState) → add_node → add_edge → compile(checkpointer=checkpointer)",
    "rag_pipeline": "PyPDFLoader → RecursiveCharacterTextSplitter → OpenAIEmbeddings",
    "message_classes": "HumanMessage, AIMessage, SystemMessage from langchain_core.messages"
  },
  "existing_implementations": {
    "description": "Found extensive LangChain usage in 13 files across graph definitions, RAG pipeline, and LLM integration",
    "relevant_files": [
      "backend/agent_graph.py",
      "backend/epicrisis_graph.py",
      "backend/translator_graph.py",
      "backend/app/core/graph.py",
      "backend/app/core/llm.py",
      "backend/app/core/state.py",
      "backend/data_processing/loaders/guidelines_loader.py",
      "backend/app/api/v1/endpoints/query.py"
    ],
    "current_versions": {
      "langchain": ">=0.1.0",
      "langchain-core": ">=0.1.0",
      "langchain-community": ">=0.0.10",
      "langchain-anthropic": ">=0.1.4",
      "langchain-openai": ">=0.0.5",
      "langgraph": ">=0.2.0",
      "langgraph-checkpoint-sqlite": ">=3.0.0"
    }
  },
  "created_at": "2025-12-31T03:00:00.000000"
}
