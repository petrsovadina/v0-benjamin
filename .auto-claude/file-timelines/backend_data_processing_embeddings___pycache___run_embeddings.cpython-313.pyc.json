{
  "file_path": "backend/data_processing/embeddings/__pycache__/run_embeddings.cpython-313.pyc",
  "main_branch_history": [],
  "task_views": {
    "001-complete-guidelines-rag-pdf-import": {
      "task_id": "001-complete-guidelines-rag-pdf-import",
      "branch_point": {
        "commit_hash": "d092d181e511c0ef7a36dcfd2dfe3f083cbae73e",
        "content": "",
        "timestamp": "2025-12-25T01:35:52.079046"
      },
      "worktree_state": {
        "content": "\ufffd\n\n\u0000\u0000\u0000\u0000L\u0000Bi\ufffd\n\u0000\u0000\ufffd\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\ufffd\ufffd\u0000\u0000\u0000\ufffd\u0000S\u0000S\u0001K\u0000r\u0000S\u0000S\u0001K\u0001r\u0001S\u0000S\u0002K\u0002J\u0003r\u0003 \u0000S\u0000S\u0003K\u0004J\u0005r\u0005 \u0000\\\u0001R\f\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\"\u0000\\\u0001R\u000e\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00049\u0001 \u0000\\\u0001R\u0010\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\"\u0000\\\t5\u0001\u0000\u0000\u0000\u0000\u0000\u0000r\nS\u0005\u001a\u0000r\u000b\\\tS\u0006:X\u0000\u0000a\u0018\u0000\u0000\\\u0000R\u0018\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\"\u0000\\\u000b\"\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u00005\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000g\u0001g\u0001)\u0007\ufffd\u0000\u0000\u0000\u0000N)\u0001\ufffd\u0011SupabaseSingleton)\u0001\ufffd\u0012EmbeddingGenerator)\u0001\ufffd\u0005levelc\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\t\u0000\u0000\u0000\ufffd\u0000\u0000\u0000\ufffd\u0000\u0005\u0000\u0000#\u0000 \u0000\ufffd\u0000[\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\"\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u0000n\u0000[\u0005\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u0000n\u0001[\u0006\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\t\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00015\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u001e\u0000U\u0000R\u000b\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00025\u0001\u0000\u0000\u0000\u0000\u0000\u0000R\n\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00035\u0001\u0000\u0000\u0000\u0000\u0000\u0000R\u000f\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0004S\u00055\u0002\u0000\u0000\u0000\u0000\u0000\u0000R\u0011\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u0000n\u0002U\u0002R\u0012\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000n\u0003[\u0019\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\u00035\u0001\u0000\u0000\u0000\u0000\u0000\u0000n\u0005[\u0006\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\t\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0007U\u0005\u000e\u0000S\b3\u00035\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000U\u0005S\t:X\u0000\u0000a\u0001\u0000\u0000g\u0000S\nn\u0006[\u001b\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\tXV5\u0003\u0000\u0000\u0000\u0000\u0000\u0000\u0013\u0000G\u0001H]\u0000\u0000n\u0007X7Xv-\u0000\u0000\u0000\u0004\u0000n\b/\u0000n\t/\u0000n\nU\b\u0013\u0000H~\u0000\u0000n\u000bS\u000bU\u000bR\u001d\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\fS\n5\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\u000eU\u000bR\u001d\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u000fS\n5\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\u00103\u0005n\fU\u000bR\u001d\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00115\u0001\u0000\u0000\u0000\u0000\u0000\u0000(\u0000\u0000\u0000\u0000\u0000\u0000\u0000a\u0017\u0000\u0000U\fS\u0012U\u000bR\u001d\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00115\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u00003\u0002-\n\u0000\u0000n\fU\tR\u001f\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\f5\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000U\nR\u001f\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\u000bS\u0013\u0005\u0000\u0000\u00005\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000M\ufffd\u0000\u0000\u000b\u0000 \u0000[\u0006\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\t\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0014Xv-\u0002\u0000\u0000S\u0015-\u0000\u0000\u0000\u000e\u0000S\u00163\u00035\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000U\u0001R!\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\t5\u0001\u0000\u0000\u0000\u0000\u0000\u0000n\nU\n(\u0000\u0000\u0000\u0000\u0000\u0000\u0000d\u0017\u0000\u0000[\u0006\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R#\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00175\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000M\ufffd\u0000\u0000/\u0000n\u000e[%\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\n5\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u0013\u0000H\u001c\u0000\u0000u\u0002\u0000\u0000n\u000fn\u0010U\u000eR\u001f\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000X\ufffd\u0005\u0000\u0000\u0000U\u0010S\u0018.\u00025\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000M\u001e\u0000\u0000\u000b\u0000 \u0000\u001e\u0000U\u0000R\u000b\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00025\u0001\u0000\u0000\u0000\u0000\u0000\u0000R'\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\u000e5\u0001\u0000\u0000\u0000\u0000\u0000\u0000R\u0011\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u0000 \u0000[\u0006\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\t\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0019[\u0019\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\u000e5\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\u001a3\u00035\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000G\u0001M`\u0000\u0000\u000b\u0000 \u0000g\u0000!\u0000[\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0007\u0000a\"\u0000\u0000n\u0004[\u0006\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0017\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0006U\u0004\u000e\u00003\u00025\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u001f\u0000S\u0000n\u0004A\u0004g\u0000S\u0000n\u0004A\u0004f\u0001f\u0000=\u0003\u001f\u0000f\u0001!\u0000[\u0014\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0007\u0000a$\u0000\u0000n\u0004[\u0006\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0017\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u001bU\u0004\u000e\u00003\u00025\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u001f\u0000S\u0000n\u0004A\u0004G\u0001M\ufffd\u0000\u0000S\u0000n\u0004A\u0004f\u0001f\u0000=\u0003\u001f\u0000f\u00017\u0003f\u0001)\u001cNz$Fetching drugs without embeddings...\ufffd\u0005drugsz6id, sukl_code, name, active_substance, spc_indications\ufffd\tembedding\ufffd\u0004nullz\u0016Error fetching drugs: z\u0006Found z\u0012 drugs to process.r\u0002\u0000\u0000\u0000\ufffd2\u0000\u0000\u0000z\u0006Name: \ufffd\u0004name\ufffd\u0000z\u0014. Active Substance: \ufffd\u0010active_substance\ufffd\u0001.\ufffd\u000fspc_indicationsz\u000e Indications: \ufffd\u0002idz Generating embeddings for batch \ufffd\u0001\u0000\u0000\u0000z\u0003...z'No embeddings generated for this batch.)\u0002r\u0010\u0000\u0000\u0000r\b\u0000\u0000\u0000z\bUpdated z\u0017 drugs with embeddings.z\u0013Error updating DB: )\u0014r\u0003\u0000\u0000\u0000\ufffd\nget_clientr\u0004\u0000\u0000\u0000\ufffd\u0006logger\ufffd\u0004info\ufffd\u0005table\ufffd\u0006select\ufffd\u0003is_\ufffd\u0007execute\ufffd\u0004data\ufffd\tException\ufffd\u0005error\ufffd\u0003len\ufffd\u0005range\ufffd\u0003get\ufffd\u0006append\ufffd\u0013generate_embeddings\ufffd\u0007warning\ufffd\tenumerate\ufffd\u0006upsert)\u0011\ufffd\bsupabase\ufffd\tgenerator\ufffd\bresponser\u0007\u0000\u0000\u0000\ufffd\u0001e\ufffd\u0005total\ufffd\nbatch_size\ufffd\u0001i\ufffd\u0005batch\ufffd\u0005texts\ufffd\u0003ids\ufffd\u0004drug\ufffd\u0004text\ufffd\nembeddings\ufffd\u0007updates\ufffd\u0001j\ufffd\u0003embs\u0011\u0000\u0000\u0000                 \ufffdn/Users/petrsovadina/Desktop/Develope/benjamin/v0-benjamin/backend/data_processing/embeddings/run_embeddings.py\ufffd\u0018generate_drug_embeddingsr5\u0000\u0000\u0000\t\u0000\u0000\u0000s\\\u0002\u0000\u0000\ufffd\u0000\ufffd\u0000\ufffd\u000f \ufffd\u000f+\ufffd\u000f+\ufffd\u000f-\ufffdH\ufffd\u0010\"\ufffd\u0010$\ufffdI\ufffd\u0014\u0000\u0005\u000b\ufffdK\ufffdK\ufffd\u00106\ufffd\u00047\ufffd\u0002\u0005\u0005\u000f\ufffd\u0013\u001b\ufffd>\ufffd>\ufffd'\ufffd\u0013*\ufffd\u00131\ufffd\u00131\ufffd2j\ufffd\u0013k\ufffd\u0013o\ufffd\u0013o\ufffdp{\ufffd\u0000\u0000~\u0001D\u0002\ufffd\u0000\u0000\u0014E\u0002\ufffd\u0000\u0000\u0014M\u0002\ufffd\u0000\u0000\u0014M\u0002\ufffd\u0000\u0000\u0014O\u0002\ufffd\b\ufffd\u0010\u0018\ufffd\n\ufffd\n\ufffd\u0005\ufffd\n\u0000\n\u0010\ufffd\u0005\ufffdJ\ufffdE\ufffd\u0004\n\ufffdK\ufffdK\ufffd&\ufffd\u0015\ufffd\u0007\ufffd\u001f1\ufffd\u00102\ufffd\u00043\ufffd\u0007\f\ufffd\u0001\ufffdz\ufffd\b\u000e\ufffd\u0011\u0013\ufffdJ\ufffd\n\u0012\ufffd1\ufffde\ufffd\n(\ufffd\u0001\ufffd\u0010\u0015\ufffd!\ufffd.\ufffd\u0010)\ufffd\u0005\ufffd\u0010\u0012\ufffd\u0005\ufffd\u000e\u0010\ufffd\u0003\ufffd\u0014\u0019\ufffdD\ufffd\u0006\u0000\u0016\u001c\ufffdD\ufffdH\ufffdH\ufffdV\ufffdR\ufffd\u001c0\ufffd\u001b1\ufffd1E\ufffdd\ufffdh\ufffdh\ufffdOa\ufffdce\ufffdFf\ufffdEg\ufffdgh\ufffd\u0013i\ufffdD\ufffd\u000f\u0013\ufffdx\ufffdx\ufffd\u0018)\ufffd\u000f*\ufffd\u000f*\ufffd\u0010\u0014\ufffd.\ufffd\u0014\ufffd\u0018\ufffd\u0018\ufffd2C\ufffd)D\ufffd(E\ufffd\u0018F\ufffd\u0010F\ufffd\u0004\ufffd\f\u0011\ufffdL\ufffdL\ufffd\u0014\ufffd\f\u001e\ufffd\f\u000f\ufffdJ\ufffdJ\ufffdt\ufffdD\ufffdz\ufffd\f\"\ufffd\u0011\u0000\u0015\u001a\ufffd\u0014\u0000\t\u000f\ufffd\u000b\ufffd\u000b\ufffd\u00166\ufffdq\ufffd}\ufffdq\ufffd7H\ufffd6I\ufffd\u0013\ufffd\u0014M\ufffd\bN\ufffd\u0015\u001e\ufffd\u00152\ufffd\u00152\ufffd5\ufffd\u00159\ufffd\n\ufffd\u000f\u0019\ufffd\f\u0012\ufffdN\ufffdN\ufffd\u001bD\ufffd\fE\ufffd\f\u0014\ufffd\u0006\u0000\u0013\u0015\ufffd\u0007\ufffd\u0016\u001f\ufffd\n\ufffd\u0016+\ufffdF\ufffdA\ufffds\ufffd\f\u0013\ufffdN\ufffdN\ufffd\u0016\u0019\ufffdf\ufffd\u001d \ufffd\u0005\u0003\u001c\u000e\ufffd\u0000\u0003\n\u000f\ufffd\u0003\u0000\u0017,\ufffd\f\u0005\t4\ufffd\f\u0014\ufffdN\ufffdN\ufffd7\ufffd\f#\ufffd\f*\ufffd\f*\ufffd7\ufffd\f3\ufffd\f;\ufffd\f;\ufffd\f=\ufffd\f\u0012\ufffdK\ufffdK\ufffd(\ufffd3\ufffdw\ufffd<\ufffd.\ufffd0G\ufffd\u0018H\ufffd\fI\ufffdC\u0001\u0000\u000e)\ufffd\ufffd\u0019\u0000\f\u0015\ufffd\u0000\u0002\u0005\u000f\ufffd\b\u000e\ufffd\f\ufffd\f\ufffd\u0017-\ufffda\ufffdS\ufffd\u00151\ufffd\b2\ufffd\b\u000e\ufffd\ufffd\u0005\u0002\u0005\u000f\ufffd\ufffd\\\u0001\u0000\u0010\u0019\ufffd\u0000\u0001\t4\ufffd\f\u0012\ufffdL\ufffdL\ufffd\u001b.\ufffdq\ufffdc\ufffd\u00192\ufffd\f3\ufffd\f3\ufffd\ufffd\u0003\u0001\t4\ufffds[\u0000\u0000\u0000\ufffd5I>\u0001\ufffdA\nH\u001e\u0000\ufffd\u0002E\u0005I>\u0001\ufffd\bA\u0010I\n\u0002\ufffd\u0018\u0006I>\u0001\ufffd\u001e\nI\n\u0003\ufffd(\u0018I\u0005\u0003\ufffd\u0000\u0005I>\u0001\ufffd\u0005\u0005I\n\u0003\ufffd\n\u0003I>\u0001\ufffd\nI;\u0005\ufffd\u0017\u0018I6\u0005\ufffd/\u0007I>\u0001\ufffd6\u0005I;\u0005\ufffd;\u0003I>\u0001\ufffd\b__main__)\n\ufffd\u0007asyncio\ufffd\u0007logging\ufffd-backend.data_processing.utils.supabase_clientr\u0003\u0000\u0000\u0000\ufffd6backend.data_processing.embeddings.embedding_generatorr\u0004\u0000\u0000\u0000\ufffd\u000bbasicConfig\ufffd\u0004INFO\ufffd\tgetLogger\ufffd\b__name__r\u0013\u0000\u0000\u0000r5\u0000\u0000\u0000\ufffd\u0003run\ufffd\u0000\ufffd\u0000\u0000\u0000\u0000r4\u0000\u0000\u0000\ufffd\b<module>rB\u0000\u0000\u0000\u0001\u0000\u0000\u0000sX\u0000\u0000\u0000\ufffd\u0003\u0001\u0001\u0001\ufffd\u0000\u000e\ufffd\u0000\u000e\ufffd\u0000K\ufffd\u0000U\ufffd\u0000\u0007\ufffd\u0000\u0013\ufffd\u0000\u0013\ufffd'\ufffd,\ufffd,\ufffd\u0000'\ufffd\t\u0010\ufffd\t\u001a\ufffd\t\u001a\ufffd8\ufffd\t$\ufffd\u0006\ufffd\u0004?\u00014\ufffdB\u0002\u0000\u0004\f\ufffdz\ufffd\u0003\u0019\ufffd\u0004\u000b\ufffdK\ufffdK\ufffd\u0010(\ufffd\u0010*\ufffd\u0004+\ufffd\u0003\u0000\u0004\u001arA\u0000\u0000\u0000",
        "last_modified": "2025-12-25T21:22:14.883565"
      },
      "task_intent": {
        "title": "001-complete-guidelines-rag-pdf-import",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-25T01:36:13.031770",
  "last_updated": "2025-12-25T01:36:13.046831"
}