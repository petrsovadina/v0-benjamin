{
  "file_path": "backend/data_processing/embeddings/embedding_generator.py",
  "main_branch_history": [],
  "task_views": {
    "001-complete-guidelines-rag-pdf-import": {
      "task_id": "001-complete-guidelines-rag-pdf-import",
      "branch_point": {
        "commit_hash": "d092d181e511c0ef7a36dcfd2dfe3f083cbae73e",
        "content": "",
        "timestamp": "2025-12-25T01:35:52.079046"
      },
      "worktree_state": {
        "content": "import logging\nfrom typing import List\nfrom backend.data_processing.config.settings import settings\n\nlogger = logging.getLogger(__name__)\n\nclass EmbeddingGenerator:\n    \"\"\"\n    Generates embeddings for text chunks.\n    \"\"\"\n    def __init__(self):\n        self.api_key = settings.OPENAI_API_KEY\n        if not self.api_key or \"mock\" in self.api_key:\n            logger.warning(\"OPENAI_API_KEY is missing or mock. Embeddings will be mocked.\")\n            self.client = None\n        else:\n            try:\n                from openai import OpenAI\n                self.client = OpenAI(api_key=self.api_key)\n            except ImportError:\n                logger.error(\"openai package not installed.\")\n                self.client = None\n\n    def generate_embeddings(self, texts: List[str]) -> List[List[float]]:\n        \"\"\"\n        Generates embeddings for a list of texts.\n        \"\"\"\n        if not self.client:\n            # Mock embeddings (1536 dim for ada-002 compatibility)\n            import random\n            logger.info(f\"Generating {len(texts)} mock embeddings.\")\n            return [[random.random() for _ in range(1536)] for _ in texts]\n        \n        try:\n            response = self.client.embeddings.create(\n                input=texts,\n                model=\"text-embedding-ada-002\"\n            )\n            return [data.embedding for data in response.data]\n        except Exception as e:\n            logger.error(f\"Error generating embeddings: {e}\")\n            return []\n",
        "last_modified": "2025-12-25T21:22:14.885284"
      },
      "task_intent": {
        "title": "001-complete-guidelines-rag-pdf-import",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-25T01:36:13.048110",
  "last_updated": "2025-12-25T01:36:13.061937"
}