{
  "file_path": "backend/app/schemas/query.py",
  "main_branch_history": [],
  "task_views": {
    "001-complete-guidelines-rag-pdf-import": {
      "task_id": "001-complete-guidelines-rag-pdf-import",
      "branch_point": {
        "commit_hash": "d092d181e511c0ef7a36dcfd2dfe3f083cbae73e",
        "content": "",
        "timestamp": "2025-12-25T01:35:52.079046"
      },
      "worktree_state": {
        "content": "from pydantic import BaseModel, Field, validator\nfrom typing import List, Optional, Dict, Any\n\nclass QueryRequest(BaseModel):\n    items: Optional[List[Dict[str, str]]] = Field(default=[], alias=\"history\")\n    query: Optional[str] = Field(default=None, alias=\"message\")\n    \n    # Allow passing 'query' and 'items' directly as well if needed, \n    # but Pydantic V2 alias_generator might be cleaner. \n    # For now, let's just make query optional and validate that one acts as the main content.\n\n    @validator(\"query\", pre=True, always=True)\n    def check_query_or_message(cls, v, values):\n        # If 'query' was not set by alias 'message', maybe it was passed as 'query'?\n        # Pydantic usually handles alias OR field name if allow_population_by_field_name is True.\n        return v\n        \n    class Config:\n        populate_by_name = True\n\nclass QueryResponse(BaseModel):\n    response: str\n    query_type: Optional[str] = None\n    citations: Optional[List[Dict[str, Any]]] = []\n    status: str = \"success\"\n",
        "last_modified": "2025-12-25T21:22:14.863569"
      },
      "task_intent": {
        "title": "001-complete-guidelines-rag-pdf-import",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-25T01:36:12.822651",
  "last_updated": "2025-12-25T01:36:12.837777"
}