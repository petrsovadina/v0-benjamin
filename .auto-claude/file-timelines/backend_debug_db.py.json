{
  "file_path": "backend/debug_db.py",
  "main_branch_history": [],
  "task_views": {
    "001-complete-guidelines-rag-pdf-import": {
      "task_id": "001-complete-guidelines-rag-pdf-import",
      "branch_point": {
        "commit_hash": "d092d181e511c0ef7a36dcfd2dfe3f083cbae73e",
        "content": "",
        "timestamp": "2025-12-25T01:35:52.079046"
      },
      "worktree_state": {
        "content": "from supabase import create_client\nimport os\nfrom dotenv import load_dotenv\nfrom pathlib import Path\n\n# Load .env explicitly\nenv_path = Path(__file__).resolve().parents[1] / '.env'\nload_dotenv(dotenv_path=env_path)\n\nurl = os.environ.get(\"SUPABASE_URL\")\nkey = os.environ.get(\"SUPABASE_KEY\")\n\nsupabase = create_client(url, key)\n\nquery = \"algifen\"\nprint(f\"Testing search for '{query}'...\")\n\ntry:\n    # Exact match test\n    response = supabase.table(\"drugs\").select(\"*\").eq(\"name_normalized\", query).execute()\n    print(f\"Exact match found: {len(response.data)}\")\n    \n    # ILIKE test\n    response = supabase.table(\"drugs\").select(\"*\").ilike(\"name_normalized\", f\"%{query}%\").execute()\n    print(f\"ILIKE match found: {len(response.data)}\")\n\n    # Check the actual value\n    response = supabase.table(\"drugs\").select(\"name_normalized\").eq(\"sukl_code\", \"0000001\").execute()\n    if response.data:\n        actual_val = response.data[0]['name_normalized']\n        print(f\"Actual value in DB for 0000001: '{actual_val}' (len: {len(actual_val)})\")\n        print(f\"Query value: '{query}' (len: {len(query)})\")\n        print(f\"Match? {actual_val == query}\")\n    \nexcept Exception as e:\n    print(f\"Error: {e}\")\n",
        "last_modified": "2025-12-25T21:22:15.326692"
      },
      "task_intent": {
        "title": "001-complete-guidelines-rag-pdf-import",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-25T01:36:13.713926",
  "last_updated": "2025-12-25T01:36:13.726963"
}