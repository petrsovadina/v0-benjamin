{
  "file_path": "backend/pipeline/retrievers/__pycache__/sukl_retriever.cpython-313.pyc",
  "main_branch_history": [],
  "task_views": {
    "001-complete-guidelines-rag-pdf-import": {
      "task_id": "001-complete-guidelines-rag-pdf-import",
      "branch_point": {
        "commit_hash": "d092d181e511c0ef7a36dcfd2dfe3f083cbae73e",
        "content": "",
        "timestamp": "2025-12-25T01:35:52.079046"
      },
      "worktree_state": {
        "content": "\ufffd\n\n\u0000\u0000\u0000\u0000\ufffdWKi_\n\u0000\u0000\ufffd\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\ufffd`\u0000\u0000\u0000\ufffd\u0000S\u0000S\u0001K\u0000J\u0001r\u0001J\u0002r\u0002J\u0003r\u0003 \u0000S\u0000S\u0002K\u0004J\u0005r\u0005 \u0000S\u0000S\u0003K\u0006J\u0007r\u0007 \u0000S\u0000S\u0004K\bJ\tr\t \u0000\\\u0005\"\u0000\\\n5\u0001\u0000\u0000\u0000\u0000\u0000\u0000r\u000b\u0018\u0000\"\u0000S\u0005\u001a\u0000S\u00065\u0002\u0000\u0000\u0000\u0000\u0000\u0000r\fg\u0007)\b\ufffd\u0000\u0000\u0000\u0000)\u0003\ufffd\u0004List\ufffd\u0004Dict\ufffd\u0003Any)\u0001\ufffd\nget_logger)\u0001\ufffd\u0011SupabaseSingleton)\u0001\ufffd\u0005cachec\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\ufffd0\u0000\u0000\u0000\ufffd\u0000\\\u0000r\u0001S\u0000r\u0002S\u0001r\u0003S\u0002r\u0004S\u0003\u001a\u0000r\u0005S\u0004\\\u0006S\u0005\\\u00064\u0004S\u0006\u001a\u0000j\u0004r\u0007S\u0007r\bg\b)\t\ufffd\nSuklRetriever\ufffd\b\u0000\u0000\u0000uF\u0000\u0000\u0000\nRetrieves drug information from the local S\u00daKL database (Supabase).\nc\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0003\u0000\u0000\u0000\ufffd8\u0000\u0000\u0000\ufffd\u0000[\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\"\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\u0000l\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000g\u0000)\u0001N)\u0003r\u0007\u0000\u0000\u0000\ufffd\nget_client\ufffd\bsupabase)\u0001\ufffd\u0004selfs\u0001\u0000\u0000\u0000 \u0699/Users/petrsovadina/Desktop/Develope/benjamin/v0-benjamin/.worktrees/001-complete-guidelines-rag-pdf-import/backend/pipeline/retrievers/sukl_retriever.py\ufffd\b__init__\ufffd\u0016SuklRetriever.__init__\f\u0000\u0000\u0000s\u0012\u0000\u0000\u0000\ufffd\u0000\ufffd\u0018)\ufffd\u00184\ufffd\u00184\ufffd\u00186\ufffd\u0004\ufffd\n\ufffd\u0000\u0000\u0000\u0000\ufffd\u0005query\ufffd\u0006returnc\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\t\u0000\u0000\u0000\ufffd\u0000\u0000\u0000\ufffd\ufffd\u0003\u0000\u0000#\u0000 \u0000\ufffd\u0000S\u0001U\u0001\u000e\u00003\u0002n\u0002[\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\"\u0000U\u00025\u0001\u0000\u0000\u0000\u0000\u0000\u0000n\u0003U\u0003(\u0000\u0000\u0000\u0000\u0000\u0000\u0000a\u0016\u0000\u0000[\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0007\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0002U\u0001S\u00039\u0002 \u0000U\u0003$\u0000[\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0007\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0004U\u0001\u000e\u00003\u00025\u0001\u0000\u0000\u0000\u0000\u0000\u0000 \u0000\u001e\u0000U\u0000R\b\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u000b\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00055\u0001\u0000\u0000\u0000\u0000\u0000\u0000R\n\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u00065\u0001\u0000\u0000\u0000\u0000\u0000\u0000R\u000f\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u0007S\bU\u0001R\u0011\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\b3\u00035\u0002\u0000\u0000\u0000\u0000\u0000\u0000R\u0013\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\t5\u0001\u0000\u0000\u0000\u0000\u0000\u0000R\u0015\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u00005\u0000\u0000\u0000\u0000\u0000\u0000\u0000n\u0004U\u0004R\u0016\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000n\u0005U\u0005(\u0000\u0000\u0000\u0000\u0000\u0000\u0000d\u001a\u0000\u0000[\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0007\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\nU\u0001S\u00039\u0002 \u0000S\u000bU\u0001\u000e\u0000S\f3\u0003$\u0000S\n[\u0019\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\u00055\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\u000eU\u0001\u000e\u0000S\u000f3\u0005n\u0006U\u0005\u0013\u0000Hq\u0000\u0000n\u0007S\u0010U\u0007S\u0011\u0005\u0000\u0000\u0000\u000e\u0000S\u00123\u0003n\bU\u0006S\u0013U\u0007S\u0014\u0005\u0000\u0000\u0000\u000e\u0000S\u0015U\u0007S\u0011\u0005\u0000\u0000\u0000\u000e\u0000S\u00163\u0005-\n\u0000\u0000n\u0006U\u0006S\u0017U\b\u000e\u0000S\u00183\u0003-\n\u0000\u0000n\u0006U\u0006S\u0019U\u0007R\u0003\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u001aS\u001b5\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\u00183\u0003-\n\u0000\u0000n\u0006U\u0006S\u001cU\u0007R\u0003\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u001dS\u001b5\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\u001eU\u0007R\u0003\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\u001fS\u001b5\u0002\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u0000S\u00183\u0005-\n\u0000\u0000n\u0006U\u0006S\u0018-\n\u0000\u0000n\u0006Ms\u0000\u0000\u000b\u0000 \u0000[\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u001a\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\"\u0000X&S S!9\u0003 \u0000[\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u0007\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S\"[\u0019\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\u00055\u0001\u0000\u0000\u0000\u0000\u0000\u0000S#9\u0002 \u0000U\u0006$\u0000!\u0000[\u001c\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0007\u0000a,\u0000\u0000n\t[\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000R\u001f\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000S$U\tS%9\u0002 \u0000S&[!\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000U\t5\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u000e\u00003\u0002s\u0002\u001f\u0000S'n\tA\t$\u0000S'n\tA\tf\u0001f\u0000=\u0003\u001f\u0000f\u00017\u0003f\u0001)(zq\nSearches for drugs by name (using connection to Supabase).\nReturns a formatted string suitable for LLM context.\nz\u0005sukl:u\u0016\u0000\u0000\u0000S\u00daKL search cache hit)\u0001r\u0014\u0000\u0000\u0000u\u0015\u0000\u0000\u0000Searching S\u00daKL for: \ufffd\u0005drugs\ufffd\u0001*\ufffd\u000fname_normalized\ufffd\u0001%\ufffd\u0005\u0000\u0000\u0000u\u0016\u0000\u0000\u0000No S\u00daKL results foundz\u0019No drugs found matching 'z\u0002'.z\u0006Found z\u0011 drugs matching 'z\u0003':\nz7https://www.sukl.cz/modules/medication/detail.php?code=\ufffd\tsukl_codez\t&tab=infoz\u0002- \ufffd\u0004nameu\t\u0000\u0000\u0000 (S\u00daKL: z\u0002)\nz\u0012  Reference Link: \ufffd\u0001\nz\u0014  Active Substance: \ufffd\u0010active_substancez\u0003N/Az\f  Strength: \ufffd\bstrengthz\b, Form: \ufffd\u0013pharmaceutical_formi\b\u0007\u0000\u0000)\u0001\ufffd\u0003ttlu\u001d\u0000\u0000\u0000S\u00daKL search returned results)\u0001\ufffd\u0005countz\u001cError querying drug database)\u0001\ufffd\u0005errorz\u001eError querying drug database: N)\u0011r\b\u0000\u0000\u0000\ufffd\u0003get\ufffd\u0006logger\ufffd\u0004infor\u000e\u0000\u0000\u0000\ufffd\u0005table\ufffd\u0006select\ufffd\u0005ilike\ufffd\u0005lower\ufffd\u0005limit\ufffd\u0007execute\ufffd\u0004data\ufffd\u0003len\ufffd\u0003set\ufffd\tExceptionr$\u0000\u0000\u0000\ufffd\u0003str)\nr\u000f\u0000\u0000\u0000r\u0014\u0000\u0000\u0000\ufffd\tcache_key\ufffd\ncached_result\ufffd\bresponser\u0017\u0000\u0000\u0000\ufffd\u000bresult_text\ufffd\u0004drug\ufffd\bsukl_url\ufffd\u0001es\n\u0000\u0000\u0000          r\u0010\u0000\u0000\u0000\ufffd\fsearch_drugs\ufffd\u001aSuklRetriever.search_drugs\u000f\u0000\u0000\u0000s\u0000\u0002\u0000\u0000\ufffd\u0000\ufffd\u0000\ufffd\f\u0000\u0017\u001c\ufffdE\ufffd7\ufffdO\ufffd\t\ufffd\u0018\u001d\ufffd\t\ufffd\t\ufffd)\ufffd\u0018,\ufffd\n\ufffd\u000b\u0018\ufffd\f\u0012\ufffdK\ufffdK\ufffd\u00180\ufffd\u0005\ufffdK\ufffd\f>\ufffd\u0013 \ufffd\f \ufffd\b\u000e\ufffd\u000b\ufffd\u000b\ufffd\u0016+\ufffdE\ufffd7\ufffd\u00143\ufffd\b4\ufffd\u0006!\t=\ufffd\u0017\u001b\ufffd}\ufffd}\ufffd\u0017*\ufffd\u0017*\ufffd7\ufffd\u00173\ufffd\u0011\u0017\ufffd\u0016\ufffd\u0003\ufffd\u001b\ufffd\u0011\u0016\ufffd\u0015\ufffd\u0017(\ufffdA\ufffde\ufffdk\ufffdk\ufffdm\ufffd_\ufffdA\ufffd*>\ufffd\u0011?\ufffd\u0011\u0016\ufffd\u0015\ufffdq\ufffd\u0018\ufffd\u0011\u0018\ufffd\u0017\ufffd\u0019\ufffd\t\u0000\n\u0015\ufffd\f\u0000\u0015\u001d\ufffdM\ufffdM\ufffdE\ufffd\u0013\u0018\ufffd\u0010\u0016\ufffd\u000b\ufffd\u000b\ufffd\u001c4\ufffdE\ufffd\u000b\ufffd\u0010B\ufffd\u00192\ufffd5\ufffd'\ufffd\u0012\ufffd\u0017<\ufffd\u0010<\ufffd\u0006\u0000\u001d#\ufffd3\ufffdu\ufffd:\ufffd,\ufffd.?\ufffd\u0005\ufffdw\ufffdd\ufffd\u001aK\ufffdK\ufffd\u0018\u001d\ufffd\u0004\ufffd\u001dT\ufffdUY\ufffdZe\ufffdUf\ufffdTg\ufffdgp\ufffd\u001bq\ufffd\b\ufffd\u0010\u001b\ufffd\u0012\ufffdD\ufffd\u0016\ufffdL\ufffd>\ufffd\u0019\ufffd4\ufffd\u000b\ufffd;L\ufffd:M\ufffdS\ufffd\u001fQ\ufffd\u0010Q\ufffd\u000b\ufffd\u0010\u001b\ufffd!3\ufffdH\ufffd:\ufffdR\ufffd\u001f@\ufffd\u0010@\ufffd\u000b\ufffd\u0010\u001b\ufffd!5\ufffdd\ufffdh\ufffdh\ufffd?Q\ufffdSX\ufffd6Y\ufffd5Z\ufffdZ\\\ufffd\u001f]\ufffd\u0010]\ufffd\u000b\ufffd\u0010\u001b\ufffd\u001c\ufffdd\ufffdh\ufffdh\ufffdz\ufffd5\ufffd.I\ufffd-J\ufffd(\ufffdSW\ufffdS[\ufffdS[\ufffd\\q\ufffdsx\ufffdSy\ufffdRz\ufffdz|\ufffd\u001f}\ufffd\u0010}\ufffd\u000b\ufffd\u0010\u001b\ufffdt\ufffd\u0010#\ufffd\u000b\ufffd\u0013\u0000\u0019\u001e\ufffd\u0018\u0000\n\u0012\ufffdI\ufffdI\ufffdi\ufffd$\ufffd\f7\ufffd\f\u0012\ufffdK\ufffdK\ufffd\u00187\ufffds\ufffd5\ufffdz\ufffdK\ufffd\fJ\ufffd\u0013\u001e\ufffd\f\u001e\ufffd\ufffd\u000f\u0018\ufffd\u0000\u0002\t=\ufffd\f\u0012\ufffdL\ufffdL\ufffd\u00197\ufffdq\ufffdL\ufffd\fA\ufffd\u00153\ufffdC\ufffd\u0001\ufffdF\ufffd8\ufffd\u0013<\ufffd\f<\ufffd\ufffd\u0005\u0002\t=\ufffdsD\u0000\u0000\u0000\ufffdA\u0011G \u0001\ufffd\u0014B\u0015F'\u0000\ufffd)\u0001G \u0001\ufffd*B<F'\u0000\ufffd&\u0001G \u0001\ufffd'\nG\u001d\u0003\ufffd1!G\u0018\u0003\ufffd\u0012\u0001G\u001d\u0003\ufffd\u0013\u0005G \u0001\ufffd\u0018\u0005G\u001d\u0003\ufffd\u001d\u0003G \u0001)\u0001r\u000e\u0000\u0000\u0000N)\t\ufffd\b__name__\ufffd\n__module__\ufffd\f__qualname__\ufffd\u000f__firstlineno__\ufffd\u0007__doc__r\u0011\u0000\u0000\u0000r2\u0000\u0000\u0000r:\u0000\u0000\u0000\ufffd\u0015__static_attributes__\ufffd\u0000r\u0013\u0000\u0000\u0000r\u0010\u0000\u0000\u0000r\n\u0000\u0000\u0000r\n\u0000\u0000\u0000\b\u0000\u0000\u0000s\u001f\u0000\u0000\u0000\ufffd\u0000\ufffd\u0002\u0002\u0005\b\ufffd\u0006\u0001\u00057\ufffd\u00060\u0005=\ufffd\u0003\ufffd\u00000\u0005=\ufffd\u0003\ufffd\u00000\u0005=r\u0013\u0000\u0000\u0000r\n\u0000\u0000\u0000N)\n\ufffd\u0006typingr\u0003\u0000\u0000\u0000r\u0004\u0000\u0000\u0000r\u0005\u0000\u0000\u0000\ufffd\u0017backend.services.loggerr\u0006\u0000\u0000\u0000\ufffd-backend.data_processing.utils.supabase_clientr\u0007\u0000\u0000\u0000\ufffd\u0016backend.services.cacher\b\u0000\u0000\u0000r<\u0000\u0000\u0000r&\u0000\u0000\u0000r\n\u0000\u0000\u0000rB\u0000\u0000\u0000r\u0013\u0000\u0000\u0000r\u0010\u0000\u0000\u0000\ufffd\b<module>rG\u0000\u0000\u0000\u0001\u0000\u0000\u0000s(\u0000\u0000\u0000\ufffd\u0003\u0001\u0001\u0001\ufffd\u0000\"\ufffd\u0000\"\ufffd\u0000.\ufffd\u0000K\ufffd\u0000(\ufffd\t\u0013\ufffdH\ufffd\t\u001d\ufffd\u0006\ufffd\u00047\u0001=\ufffd\u00007\u0001=r\u0013\u0000\u0000\u0000",
        "last_modified": "2025-12-25T21:22:15.345842"
      },
      "task_intent": {
        "title": "001-complete-guidelines-rag-pdf-import",
        "description": "",
        "from_plan": false
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-25T01:36:13.875309",
  "last_updated": "2025-12-25T01:36:13.889349"
}