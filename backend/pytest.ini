[pytest]
# Test configuration for the backend service
asyncio_mode = auto
testpaths = tests
python_files = test_*.py
python_functions = test_*

# Warning filters for strict deprecation checking
# We catch all deprecation warnings from our code, but ignore third-party library warnings
# NOTE: When running with -W error::DeprecationWarning, use pytest's built-in filters
# by not passing the -W flag. The filterwarnings config below handles it correctly.
filterwarnings =
    error::DeprecationWarning
    # Ignore pyparsing deprecation warning from pyiceberg (supabase dependency chain)
    ignore:.*enablePackrat.*:DeprecationWarning:pyparsing.*
    ignore:.*enablePackrat.*:DeprecationWarning:pyiceberg.*
    # Ignore warnings from site-packages (third-party libraries)
    ignore::DeprecationWarning:pyparsing.*
    ignore::DeprecationWarning:pyiceberg.*
